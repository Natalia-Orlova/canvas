<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <!--для отображения изображения с камеры-->
    <video id="video" autoplay></video>
    <canvas id="qrcode"></canvas>
</body>
<script>
    const video = document.getElementById('video');
    const canvas = document.getElementById('qrcode');
    const context = canvas.getContext('2d');
    const jpegDataURL = canvas.toDataURL('image/jpeg'); // преобразовать в jpeg

    // const img = new Image();
    // img.onload = drawImageActualSize;
    // img.src = 'img3.jpg';

    // function drawImageActualSize() {
    //     canvas.width = this.naturalWidth;
    //     canvas.height = this.naturalHeight;
    //     context.drawImage(this, 0, 0);
    //     // context.drawImage(this, 0, 0, this.width, this.height);
    // }


    const constrains = {
        video: {
            facingMode: { exact: "environment" },
            // width: { min: 1280 },
            // height: { min: 720 },
        }
    }
    navigator.mediaDevices.getUserMedia(constrains)
        .then(stream => {
            video.srcObject = stream;
            video.play();

            // Draw the video frame onto the canvas every 2000ms
            setInterval(() => {
                context.drawImage(video, 0, 0, canvas.width, canvas.height);
            }, 2000);
        })
        .catch(error => {
            console.log('Error accessing camera:', error);
        });
</script>

</html>